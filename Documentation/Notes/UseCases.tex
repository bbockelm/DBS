\documentclass{article}

\begin{document}

\title{CMS Dataset Bookkeeping: Use Cases}

\abstract{}


\section{Introduction}
This document outlines the set of use cases that best describes CMS dataset bookkeeping activities, without referring to existing technologies. ...

Bringing data under the umbrella of the dataset bookkeeping system means making certain assumptions. Once "in" the bookkeeping system it is important that only bookkeeping processes (or tools based on those processes) are used to manipulate and access the data to maintain integrity.

The scope of the CMS DMS is guided by these use cases ...

This document therefore presents the views of multiple actors or roles- ... In this respect it differs from existing use case documents in this field, which typically tend to detail use cases associated with a physicist-analyst ...

\subsection{Background requirements}
In this section we can elaborate on the definitions of components in the system and on some high level requirements ...

Definition of a dataset ... modified further for virtual, actual(ized); production, analysis.

Detailed constraints on a dataset ... (run number, time, etc)

Furthermore, datasets might be scoped by both their initial generating process (i.e. as production datasets, analysis datasets) and their intended availability (i.e. collaboration wide, or personal...) ...


\section{Roles and high level use cases}
There are several generic roles associated with users of the bookkeeping system: managers, analysts and sources. A person or agent acting in each role is likely go through some typical process to achieve their goals. These high level processes give us high level use cases ... 

These high level use cases are not intended to be exhaustive- rather the intent is to outline the kind of operations that represent typical causes of interaction with the bookkeeping system.

These generic roles are Manager and Analyst...

\subsection{Manager}
Managers will typically be managing large scale data production or resource management. They will be interested in, for example, the production or availability of multiple, unrelated datasets at more than one site.

A typical data production job might involve a manager defining a new dataset- perhaps out of nothing, or perhaps taking an existing dataset as input- and then initiating a process that creates data and attaches it to the new dataset... Note that this can cover large scale MC production; reprocessing of data; or (skimming) of data for an analysis group to produce data that is easier to analyse. 

A local resource manager might wish to identify datasets with certain characteristics and make them "locally available" (e.g. POSIX-accessible) for a certain period of time...

A CMS-wide distribution manager might want to identify a certain range of datasets and then create replicas of those datasets at a given site for load balancing purposes...

\subsection{Analyst}
Analysts will typically want to identify some data of interest and process that data to produce some summary output. They may want to process the data either on  distributed or local resources. They might wish to make the data the produce available for others to access.

In each case these high level use cases represent workflows that would undertaken by a variety of actors: for example, in the Analyst use case the physicist would undertake the query for data of interest; the workload management system would then query the bookkeeping system to determine where to submit and how to configure jobs; a job would then query some part of the data management system to determine local filenames.

In each case then the high level use cases associated with each of these roles break down into more detailed use cases that are often shared between different roles, and between different actors taking on aspects of those roles.

\section{Use Cases}
These are use cases ... 

Use cases are broadly associated with Import, Query, Management or Retrieval activies...

\subsection{Import}
Defined as bringing data (potential or actual) under the control of the dataset bookkeeping system. (Note  that a good deal of bookkeeping data might exist in an existing bookkeeping system (e.g. RefDB) and Import-style activities might be a publish to the CMS-wide system... )

Definition of a (virtual) dataset ... (Note that if we allow the creation of a dataset by specifying certain constraints then we can use the output of a specify use case ... )

Creation of a dataset from existing data

Add/attach data to an already defined dataset

\subsection{Query}
Specify a dataset (based on dataset constraints (run number, event type etc)) (Should we save queries, create new dataset based on query...? Are these in fact development/deployment issues? We probably need to define what we want to do here, not start discussing how...) 

Locate parts of a dataset (high level dataset to site mapping, low level file to  SURL, SURL to TURL, SURL to POSIX/local access method ...)

State (existence, completeness (prod), completeness (distribution), validation)

\subsection{Management}
Invalidation
 
Removal

Replication

Merging

Demerging

Schedule availability

Track dataset history

\subsection{Retrieval}
Access

Retrieval (rep to local disk) ... we must enable standalone operation ...


\section{Conclusions}
Some general conclusions here ...

\subsection{Points of contact with other CMS projects}
Workload management

\subsection{Proposed action}


\end{document}