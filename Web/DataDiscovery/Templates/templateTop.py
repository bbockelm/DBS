#!/usr/bin/env python




##################################################
## DEPENDENCIES
import sys
import os
import os.path
from os.path import getmtime, exists
import time
import types
import __builtin__
from Cheetah.Template import Template
from Cheetah.DummyTransaction import DummyTransaction
from Cheetah.NameMapper import NotFound, valueForName, valueFromSearchList, valueFromFrameOrSearchList
from Cheetah.CacheRegion import CacheRegion
import Cheetah.Filters as Filters
import Cheetah.ErrorCatchers as ErrorCatchers
import time

##################################################
## MODULE CONSTANTS
try:
    True, False
except NameError:
    True, False = (1==1), (1==0)
VFFSL=valueFromFrameOrSearchList
VFSL=valueFromSearchList
VFN=valueForName
currentTime=time.time
__CHEETAH_docstring__ = 'Autogenerated by CHEETAH: The Python-Powered Template Engine'
__CHEETAH_genTime__ = 'Sun Mar  4 15:26:06 2007'
__CHEETAH_srcLastModified__ = 'Sat Mar  3 09:37:08 2007'
__CHEETAH_src__ = 'Templates/tmpl/templateTop.tmpl'
__CHEETAH_version__ = '2.0b5'

##################################################
## CLASSES

class templateTop(Template):

    ##################################################
    ## CHEETAH GENERATED METHODS


    def __init__(self, *args, **KWs):

        Template.__init__(self, *args, **KWs)
        if not self._CHEETAH__instanceInitialized:
            cheetahKWArgs = {}
            allowedKWs = 'searchList filter filtersLib errorCatcher'.split()
            for k,v in KWs.items():
                if k in allowedKWs: cheetahKWArgs[k] = v
            self._initCheetahAttributes(**cheetahKWArgs)
        

    def respond(self, trans=None):



        ## CHEETAH: main method generated for this template
        if not trans and not callable(self.transaction):
            trans = self.transaction # is None unless self.awake() was called
        if not trans:
            trans = DummyTransaction()
            _dummyTrans = True
        else: _dummyTrans = False
        write = trans.response().write
        SL = self._CHEETAH__searchList
        _filter = self._CHEETAH__currentFilter
        
        ########################################
        ## START - generated method body
        
        write('''<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>DBS data discovery page</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="author" content="Valentin Kuznetsov (vkuznet at gmail dot com)" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="ROBOTS" content="ALL" />
<meta name="Copyright" content="(CC) 2007, CMS collaboration." />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="Rating" content="General" />
<link rel="stylesheet" type="text/css" href="css/dbs.css" />
<!-- set non-visible display content by default -->
<style type="text/css">div.normalcontent { display:none }</style>
<!-- if JavaScripts enables, turn visiable content on -->

<!-- YUI and WEBTOOLS -->
<script type="text/javascript" src="yui/build/yahoo/yahoo.js"></script>
<script type="text/javascript" src="yui/build/dom/dom.js"></script>
<script type="text/javascript" src="yui/build/event/event.js"></script> 
<script type="text/javascript" src="yui/build/container/container_core.js"></script>
<script type="text/javascript" src="yui/build/connection/connection-min.js"></script>
<script type="text/javascript" src="WEBTOOLS/Common/js/masthead.js"></script>
<script type="text/javascript" src="WEBTOOLS/Common/js/footer.js"></script>

<!-- DBS and RICO -->
<script type="text/javascript" src="js/userName.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/sorttable.js"></script>
<script type="text/javascript" src="js/prototype.js"></script>
<script type="text/javascript" src="js/rico.js"></script>
<script type="text/javascript" src="js/ajax_init.js"></script>
<script type="text/javascript" src="js/dhtml_history/dhtmlHistory.js"></script>

''')
        # #<script type="text/javascript" src="js/ricoLiveGrid.js"></script>
        # #<link rel="stylesheet" type="text/css" href="css/searchEngine.css" />
        write('\n')
        # 
        # <!-- TreeView from YUI -->
        # <script type="text/javascript" src="yui/build/yahoo/yahoo.js" ></script>
        # <script type="text/javascript" src="yui/build/event/event.js" ></script>
        # <script type="text/javascript" src="yui/build/treeview/treeview.js" ></script>
        # <link rel="stylesheet" type="text/css" href="yui/examples/treeview/css/local/tree.css" />
        write('''

<link rel="stylesheet" type="text/css" href="WEBTOOLS/Common/css/dmwt_main.css" />
<link rel="stylesheet" type="text/css" href="WEBTOOLS/Common/css/dmwt_masthead.css" />

</head>
<body onload="setGreeting();ajaxInit(\'''')
        _v = VFFSL(SL,"dbsGlobal",True) # $dbsGlobal
        if _v is not None: write(_filter(_v, rawExpr='$dbsGlobal')) # from line 51, col 39.
        write('''\');insertMastHead('dbs');insertFooter('dbs')" id="content">

<noscript>
<h1 class="box_red">Warning:</h1>
<table width="50%" class="main">
<tr>
<td>
<div class="sectionhead_tight">DBS/DLS discovery page
is AJAX enabled and require that your browser have scripting 
enabled and JavaScript support. Your browser either does not support JavaScript, 
or it has JavaScript support disabled. Please enable JavaScript support or 
use a different browser with JavaScript support to use this page.
</div>
</td>
</tr>
</table>
</noscript>

<div id="footer">
<div class="bd">

<table cellspacing="0" cellpadding="0" width="100%" id='end' style="margin-top:8px;">
<tr>
<td class="small"align="left">
<em>
CMS data discovery: ''')
        _v = VFN(VFFSL(SL,"time",True),"asctime",False)() # $time.asctime()
        if _v is not None: write(_filter(_v, rawExpr='$time.asctime()')) # from line 77, col 21.
        write(''' 
</em>
</td>
<td class="small" align="right">
<em>
Contact: <a href="mailto:vk@mail.NOSPAM.lns.cornell.edu">Valentin Kuznetsov</a>.
</em>
</td>
</tr>
</table>

</div>
</div>

<div id="main" class="hide">
<script type="text/javascript">SetMain()</script>
<div align="right">
<span class="yellow_box" onMouseOver="KeywordHelp('view_tag','<p>There are different view for data discovery, which we classified as <em>Physicists</em>, <em>Production</em>.</p> <p><b>Physicists view:</b> View led by physics interest. Information about file names or SE 3 clicks away. Information required for running a CRAB job within one click. Use data only published in official global DBS. Emphasis on  physics metadata.</p> <p><b>Production view:</b>View led by production managers. It specify in greater details and provide more options to look at DBS data.</p>')" onMouseOut="ClearTag('view_tag')">?</span><span id="view_tag"></span>
Views: 
<a href="''')
        _v = VFFSL(SL,"host",True) # $host
        if _v is not None: write(_filter(_v, rawExpr='$host')) # from line 96, col 10.
        write('/" id="homeUser">Physicists</a>\n|\n<a href="')
        _v = VFFSL(SL,"host",True) # $host
        if _v is not None: write(_filter(_v, rawExpr='$host')) # from line 98, col 10.
        write('/expert" id="homeExpert">Production</a>\n')
        # #|
        # #<a href="$host/dbsExpert" id="homeDBS">DBS experts</a>
        write('</div>\n<script type="text/javascript">whereUsers()</script>\n')
        
        ########################################
        ## END - generated method body
        
        return _dummyTrans and trans.response().getvalue() or ""
        
    ##################################################
    ## CHEETAH GENERATED ATTRIBUTES


    _CHEETAH__instanceInitialized = False

    def __str__(self): return self.respond()

    _mainCheetahMethod_for_templateTop= 'respond'
if not hasattr(templateTop, '_initCheetahAttributes'):
    templateClass = getattr(templateTop, '_CHEETAH_templateClass', Template)
    templateClass._assignRequiredMethodsToClass(templateTop)


# CHEETAH was developed by Tavis Rudd and Mike Orr
# with code, advice and input from many other volunteers.
# For more information visit http://www.CheetahTemplate.org/

##################################################
## if run from command line:
if __name__ == '__main__':
    from Cheetah.TemplateCmdLineIface import CmdLineIface
    CmdLineIface(templateObj=templateTop()).run()


