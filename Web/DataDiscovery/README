The current DBS Data Discovery prototype has been discussed in Roadmap document.
Here I layout necessary steps to install and setup the DBS data discovery server.

1) CherryPy (web framework), version 2.2.1, which can be downloaded from http://www.cherrypy.org/wiki/CherryPyDownload
or
/data/DBSDataDiscovery/soft/CherryPy-2.2.1.tar.gz

installation: untar it, and run python setup.py install --prefix=<DIR>

2) Cheetah (template engine), version 2.0rc7, which can be downloaded from
http://www.cheetahtemplate.org/download.html
or
/data/DBSDataDiscovery/soft/Cheetah-2.0rc7.tar.gz
installation: untar it and run python setup.py install --prefix=<DIR>

3) SQLAlchemy (SQL ORM tool), version 0.2.7, which can be downloaded from
http://www.sqlalchemy.org/download.myt
or
/data/DBSDataDiscovery/soft/SQLAlchemy-0.2.7.tar.gz
installation: untar it and run python setup.py install --prefix=<DIR>

4) I also use cx_Oracle, python ORACLE DB module. I install it manually by myself,
but then found it in /afs/cern.ch/cms/external/lcg/external/cx_Oracle/

5) to run the server you need to setup environment
. scripts/setup.sh

on cmslcgco01.cern.ch
old discovery page
export DBSDD=http://cmslcgco01.cern.ch:8001
or 
export DBSDD=http://cmsdoc.cern.ch/cms/test/aprom/DBS/discovery

New discovery page
export DBSDD=http://cmsdoc.cern.ch/cms/test/aprom/DBS/discovery_test

on cmsdbs.cern.ch
export DBSDD=http://cmsdbs.cern.ch/discovery
6) you need to setup grid credentials in order to allow server to query DLS
I'm doing this in crontab, please have a look at scripts/getDLSsites.h and
script/updateDBSDD.sh
But bottom line you need to invoke
voms-proxy-init -voms cms

7) set up ORACLE and TNS_ADMIN. The last one points to local tnsnames.ora file which is 
needed for cx_Oracle and I didn't found where it's located at CERN, so I've used 
whatever Vijay gave me some time ago.

The CherryPy server is driven by CherryServer.conf file. It setup the log file,
logger, port and number of threads (currently I'm using 10 threads).

To start server someone needs to do (in bash):
nohup ./DBSDataDiscovery.py 2>&1 1>& /dev/null < /dev/null &


To run Cherrpy behind apache web server we need the following lines in http.conf

RewriteEngine on
RewriteCond %{HTTP_HOST} dbsdatadiscoveryserver
RewriteRule ^(.*) http://cherrypyserver:8000$1 [P]

here dbsdatadiscoveryserver is the one what people will type in their browser and
cherrypyserver is a server which runs CherryPy on port 8000 elsewhere.
They can be the same or different nodes. As you can see CherryPy server can runs
on arbitrary port and can be run behind a firewall with appropriate rules for 
dbsdatadiscoveryserver.
